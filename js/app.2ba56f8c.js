(function(){"use strict";var t={9281:function(t,e,r){var s,n,a=r(8935),i=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},o=[],l=r(1001),c={},u=(0,l.Z)(c,i,o,!1,null,null,null),h=u.exports,A=r(2809),d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"home"},[s("Header"),s("div",{staticClass:"game"},[s("div",{staticClass:"score"},[t._v("Score: "+t._s(t.score))]),t.isEnd?s("div",{staticClass:"end"},[s("div",{staticClass:"over-text"},[t._v("GAME OVER")]),s("img",{staticClass:"over-image",attrs:{src:r(7920)}})]):t._e(),t._l(t.cloudItems,(function(e,n){return s("img",{key:n+"cloud",staticClass:"game-cloud",style:t.cloudStyle(n),attrs:{src:r(3778)}})})),t._l(t.treeItems,(function(e,r){return s("div",{key:r+"tree",class:t.treeClass(r),style:t.treeStyle(r)})})),s("div",{staticClass:"rex",style:t.rexStyle}),s("img",{staticClass:"game-road",style:t.roadStyle,attrs:{src:r(2865)}})],2)],1)},m=[],f=r(3796),g=r(6164);function I(t,e){const r=e-t,s=Math.random();return t+Math.round(s*r)}(function(t){t[t["ROAD_VELOCITY"]=15]="ROAD_VELOCITY",t[t["CLOUD_VELOCITY"]=5]="CLOUD_VELOCITY",t[t["TREE_VELOCITY"]=15]="TREE_VELOCITY",t[t["CLOUD_COUNT"]=2]="CLOUD_COUNT",t[t["TREE_COUNT"]=2]="TREE_COUNT",t[t["REX_VELOCITY"]=15]="REX_VELOCITY",t[t["REX_MAX_JUMP"]=100]="REX_MAX_JUMP",t[t["REX_X_POSITION"]=50]="REX_X_POSITION"})(s||(s={})),function(t){t[t["WAIT"]=0]="WAIT",t[t["RUNNING"]=1]="RUNNING",t[t["END"]=2]="END"}(n||(n={}));var p=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},x=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"header"},[r("div",{staticClass:"title"},[t._v("Running T-Rex")]),r("div",{staticClass:"sub-title"},[r("strong",[t._v("T-Rex")]),t._v("来自Google Chrome离线提示页面。"),r("br"),t._v('按 "Space" 空格键开始游戏。 ')])])}],E=function(t,e,r,s){var n,a=arguments.length,i=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,s);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let T=class extends g.w3{};T=E([g.wA],T);var v=T,O=v,C=(0,l.Z)(O,p,x,!1,null,"01a304d8",null),_=C.exports,y=function(t,e,r,s){var n,a=arguments.length,i=a<3?e:null===s?s=Object.getOwnPropertyDescriptor(e,r):s;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)i=Reflect.decorate(t,e,r,s);else for(var o=t.length-1;o>=0;o--)(n=t[o])&&(i=(a<3?n(i):a>3?n(e,r,i):n(e,r))||i);return a>3&&i&&Object.defineProperty(e,r,i),i};let R=class extends g.w3{constructor(...t){super(...t),(0,f.Z)(this,"roadTranslate",0),(0,f.Z)(this,"cloudItems",[]),(0,f.Z)(this,"treeItems",[]),(0,f.Z)(this,"rexItem",{rexTranslateY:0,rexVelocity:0,rexBackgroundPostion:0,isInJump:!1}),(0,f.Z)(this,"gameStatus",n.WAIT),(0,f.Z)(this,"timer",0),(0,f.Z)(this,"score",0)}get isEnd(){return this.gameStatus===n.END}get roadStyle(){return{transform:`translateX(${this.roadTranslate}px)`}}get rexStyle(){return{transform:`translateY(${this.rexItem.rexTranslateY}px)`,"background-position":`${this.rexItem.rexBackgroundPostion}px 0`}}cloudStyle(t){let e=this.cloudItems[t].cloudTranslateX,r=this.cloudItems[t].cloudTranslateY;return{transform:`translate(${e}px,${r}px)`}}treeStyle(t){const e=this.treeItems[t];return{transform:`translateX(${e.treeTranslateX}px)`,width:`${e.width}px`,"background-position":`${e.backgroundPosition}px 0`}}treeClass(t){const e=this.treeItems[t];return e.isBigTree?"game-tree-big":"game-tree"}submit(t){"Space"===t.code&&(this.gameStatus===n.WAIT||this.gameStatus===n.END?(this.gameStatus=n.RUNNING,this.initGame(),this.startGame()):this.gameStatus===n.RUNNING&&0===this.rexItem.rexTranslateY&&!1===this.rexItem.isInJump&&(this.rexItem.isInJump=!0,this.rexItem.rexVelocity=s.REX_VELOCITY))}created(){window.addEventListener("keyup",this.submit)}initGame(){this.score=0,this.cloudItems=[];for(let t=0;t<s.CLOUD_COUNT;t++)this.cloudItems.push({cloudTranslateX:I(600,1200),cloudTranslateY:I(0,60)});this.treeItems=[];for(let t=0;t<s.TREE_COUNT;t++){const t=!!(I(0,100)%2),e=t?25:17,r=t?50:35,s=I(1,3),n=I(0,2);this.treeItems.push({treeTranslateX:I(600,1200),isBigTree:t,width:e*s,height:r,backgroundPosition:-e*n})}}startGame(){this.startGamerInterval()}startGamerInterval(){clearInterval(this.timer),this.timer=setInterval((()=>{this.gameStatus===n.RUNNING&&this.updateGameStatus()}),100)}updateGameStatus(){this.score+=1,this.roadTranslate<=-600&&(this.roadTranslate=0),this.roadTranslate-=s.ROAD_VELOCITY,this.cloudItems.forEach((t=>{t.cloudTranslateX<0?(t.cloudTranslateX=I(600,1200),t.cloudTranslateY=I(0,60)):t.cloudTranslateX-=s.CLOUD_VELOCITY})),this.treeItems.forEach((t=>{if(t.treeTranslateX<0){const e=!!(I(0,100)%2),r=e?25:17,s=e?50:35,n=I(1,3),a=I(0,2);t.treeTranslateX=I(600,1200),t.isBigTree=e,t.width=r*n,t.height=s,t.backgroundPosition=-r*a}else t.treeTranslateX-=s.TREE_VELOCITY})),this.rexItem.isInJump?(this.rexItem.rexTranslateY-=this.rexItem.rexVelocity,this.rexItem.rexTranslateY<=-s.REX_MAX_JUMP?this.rexItem.rexVelocity=-s.REX_VELOCITY:this.rexItem.rexTranslateY>=0&&(this.rexItem.isInJump=!1,this.rexItem.rexTranslateY=0,this.rexItem.rexVelocity=0)):this.rexItem.rexBackgroundPostion<=-220?this.rexItem.rexBackgroundPostion=0:this.rexItem.rexBackgroundPostion-=44;for(let t of this.treeItems)this.isOverlap({x:50,y:this.rexItem.rexTranslateY,width:24,height:30},{x:t.treeTranslateX,y:0,width:t.width/2,height:t.height/2})&&this.endGame()}endGame(){this.gameStatus===n.RUNNING&&(this.gameStatus=n.END)}isOverlap(t,e){const r=t.x,s=t.y,n=r+t.width,a=s+t.height,i=e.x,o=e.y,l=i+e.width,c=o+e.height;return!(c<s||a<o||r>l||i>n)}};R=y([(0,g.wA)({components:{Header:_}})],R);var w=R,b=w,U=(0,l.Z)(b,d,m,!1,null,"13792487",null),N=U.exports;a.Z.use(A.Z);const S=[{path:"/",name:"home",component:N}],V=new A.Z({mode:"history",base:"/vue-rex/",routes:S});var X=V,Y=r(4665);a.Z.use(Y.ZP);var L=new Y.ZP.Store({state:{},getters:{},mutations:{},actions:{},modules:{}});a.Z.config.productionTip=!1,new a.Z({router:X,store:L,render:t=>t(h)}).$mount("#app")},3778:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAC4AAAAOCAQAAAD6HOaKAAAAU0lEQVR4XrWSsQkAQAgD3X9El/ELixQpJHCfdApnUCtXz7o49cgagaGPaq4rIwAP9s/C7R7UX3inJ0BDb6qWDC7ScOR/QWjRlFizuPwLtTLj+qkH6DjD2wLtikUAAAAASUVORK5CYII="},7920:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACQAAAAgCAQAAADQmBIFAAAAZklEQVR4Xu3WMQoAIAxDUe/Y+58jYwV1CwQJWQT5o/DAoaWjV2i/LRym/A5FjEsR41LPQchByEHwIVAEC4gZpghmSDP8egXpr/hQZaAKQFQe+pBOQAblDC336qrlPpSg0MEjInbWTLFFmwc8TpTAAAAAAElFTkSuQmCC"},2865:function(t){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABLAAAAAMAgMAAAAPCKxBAAAABlBMVEX///9TU1NYzE1OAAAAAXRSTlMAQObYZgAAALJJREFUeF7t1EEKAyEMhtEvMNm7sPfJEVyY+1+ltLgYAsrQCtWhbxEhQvgxIJtSZypxa/WGshgzKdbq/UihMFMlt3o/CspEYoihIMaAb6mCvM6C+BTAeyo+wN4yykV/6pVfkdLpVyI1hh7GJ6QunUoLEQlQglNP2nkQkeF8+ei9cLxMue1qxVRfk1Ej0s6AEGWfVOk0QUtnK5Xo0Lac6wpdtnQqB6VxomPaz+dgF1PaqqmeWJlz1jYUaSIAAAAASUVORK5CYII="}},e={};function r(s){var n=e[s];if(void 0!==n)return n.exports;var a=e[s]={exports:{}};return t[s](a,a.exports,r),a.exports}r.m=t,function(){var t=[];r.O=function(e,s,n,a){if(!s){var i=1/0;for(u=0;u<t.length;u++){s=t[u][0],n=t[u][1],a=t[u][2];for(var o=!0,l=0;l<s.length;l++)(!1&a||i>=a)&&Object.keys(r.O).every((function(t){return r.O[t](s[l])}))?s.splice(l--,1):(o=!1,a<i&&(i=a));if(o){t.splice(u--,1);var c=n();void 0!==c&&(e=c)}}return e}a=a||0;for(var u=t.length;u>0&&t[u-1][2]>a;u--)t[u]=t[u-1];t[u]=[s,n,a]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var s in e)r.o(e,s)&&!r.o(t,s)&&Object.defineProperty(t,s,{enumerable:!0,get:e[s]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,s){var n,a,i=s[0],o=s[1],l=s[2],c=0;if(i.some((function(e){return 0!==t[e]}))){for(n in o)r.o(o,n)&&(r.m[n]=o[n]);if(l)var u=l(r)}for(e&&e(s);c<i.length;c++)a=i[c],r.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return r.O(u)},s=self["webpackChunkvue_rex"]=self["webpackChunkvue_rex"]||[];s.forEach(e.bind(null,0)),s.push=e.bind(null,s.push.bind(s))}();var s=r.O(void 0,[998],(function(){return r(9281)}));s=r.O(s)})();
//# sourceMappingURL=app.2ba56f8c.js.map